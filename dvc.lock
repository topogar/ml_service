schema: '2.0'
stages:
  extract_train_data:
    cmd: dvc pull data/train_data.tsv.dvc
  extract_test_data:
    cmd: dvc pull data/test_data.tsv.dvc
  train_model:
    cmd: python3 -m model.scripts.train_model
    deps:
    - path: data/test_data.tsv
      md5: c6b24ff52b6563e80cdb72b63e54ae80
      size: 122025
    - path: data/train_data.tsv
      md5: 172bd966b5a17e90a81c766682da63da
      size: 842761
    params:
      params.yaml:
        model:
          learning_rate: 0.1
          max_depth: 6
          n_estimators: 100
          use_label_encoder: false
          eval_metric: auc
    outs:
    - path: model/saved_models/model.joblib
      md5: 6cb8eb12707f3a1ae8e3b89dc5d704cf
      size: 348321
  inference_model:
    cmd: python3 -m model.scripts.inference_model
    deps:
    - path: model/saved_models/model.joblib
      md5: 6cb8eb12707f3a1ae8e3b89dc5d704cf
      size: 348321
    outs:
    - path: metrics.json
      md5: 484555d9227b62889e144019f89cdda2
      size: 84
